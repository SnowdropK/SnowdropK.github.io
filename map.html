<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å›½ç”µå½±åˆ¶ç‰‡å‚åˆ†å¸ƒå›¾</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        #main {
            width: 100%;
            height: 600px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* ä¸ºç”µå½±åˆ¶ç‰‡å‚æ·»åŠ æç¤ºä¿¡æ¯ */
        .studio-hint {
            text-align: center;
            margin-bottom: 15px;
            padding: 10px;
            background: linear-gradient(45deg, #ff1744, #e91e63);
            color: white;
            border-radius: 5px;
            font-weight: bold;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.02); opacity: 0.9; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        
        <div id="main"></div>
        
        <!-- è¯¦ç»†ä¿¡æ¯é¢æ¿ -->
        <div id="detail-panel" style="display: none; margin-top: 20px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
            <div id="detail-content"></div>
            <button onclick="closeDetailPanel()" style="margin-top: 15px; padding: 8px 16px; background: #4a90e2; color: white; border: none; border-radius: 4px; cursor: pointer;">å…³é—­</button>
        </div>
    </div>

    <script src="https://fastly.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <script>
        var ROOT_PATH = 'https://geo.datav.aliyun.com/areas_v3/bound';
        
        var chartDom = document.getElementById('main');
        var myChart = echarts.init(chartDom);
        var option;

        function createChart() {
            var chinaRoughLatitude = 36; // ä¸­å›½å¤§è‡´çº¬åº¦
            option = {
                title: {
                    text: 'ä¸­å›½åœ°å›¾',
                    left: 'center',
                    top: 20,
                    textStyle: {
                        fontSize: 20,
                        color: '#333'
                    }
                },
                geo: {
                    map: 'china',
                    roam: true,
                    aspectScale: Math.cos((chinaRoughLatitude * Math.PI) / 180),
                    zoom: 1.2,
                    center: [105, 36],
                    label: {
                        show: true,
                        textBorderColor: '#fff',
                        textBorderWidth: 2,
                        fontSize: 11,
                        color: '#333'
                    },
                    itemStyle: {
                        areaColor: '#e6f3ff',
                        borderColor: '#4a90e2',
                        borderWidth: 1
                    },
                    emphasis: {
                        itemStyle: {
                            areaColor: '#4a90e2'
                        },
                        label: {
                            color: 'white',
                            fontWeight: 'bold'
                        }
                    }
                },
                tooltip: {
                    trigger: 'item',
                    formatter: function(params) {
                        if (params.componentType === 'series' && params.data && params.data.type === 'studio') {
                            return `<div style="max-width: 300px;">
                                <strong style="color: #ff1744; font-size: 16px;">â­ ${params.name}</strong><br/>
                                <span style="color: #666; font-size: 12px;">åæ ‡: [${params.value[0].toFixed(2)}, ${params.value[1].toFixed(2)}]</span><br/>
                                <div style="margin-top: 8px; line-height: 1.4; font-size: 12px;">
                                    ${params.data.description}
                                </div>
                            </div>`;
                        } else if (params.componentType === 'series') {
                            return params.name + '<br/>åæ ‡: [' + params.value[0].toFixed(2) + ', ' + params.value[1].toFixed(2) + ']';
                        }
                        return params.name;
                    }
                },
                series: [
                    {
                        type: 'scatter',
                        coordinateSystem: 'geo',
                        animation: true,
                        animationDuration: 1000,
                        animationEasing: 'elasticOut',
                        data: [
                            { name: 'åŒ—äº¬', value: [116.4074, 39.9042] },
                            { name: 'å¤©æ´¥', value: [117.2008, 39.0842] },
                            { name: 'çŸ³å®¶åº„', value: [114.5149, 38.0428] },
                            { name: 'å¤ªåŸ', value: [112.5496, 37.8570] },
                            { name: 'å‘¼å’Œæµ©ç‰¹', value: [111.6708, 40.8183] },
                            { name: 'æ²ˆé˜³', value: [123.4315, 41.8057] },
                            { name: 'é•¿æ˜¥', value: [125.3245, 43.8171] },
                            { name: 'å“ˆå°”æ»¨', value: [126.5358, 45.8033] },
                            { name: 'ä¸Šæµ·', value: [121.4737, 31.2304] },
                            { name: 'å—äº¬', value: [118.7969, 32.0603] },
                            { name: 'æ­å·', value: [120.1551, 30.2741] },
                            { name: 'åˆè‚¥', value: [117.2272, 31.8206] },
                            { name: 'ç¦å·', value: [119.2965, 26.0745] },
                            { name: 'å—æ˜Œ', value: [115.8921, 28.6765] },
                            { name: 'æµå—', value: [117.1205, 36.6519] },
                            { name: 'éƒ‘å·', value: [113.6254, 34.7466] },
                            { name: 'æ­¦æ±‰', value: [114.3054, 30.5931] },
                            { name: 'é•¿æ²™', value: [112.9388, 28.2282] },
                            { name: 'å¹¿å·', value: [113.2644, 23.1291] },
                            { name: 'å—å®', value: [108.3669, 22.8177] },
                            { name: 'æµ·å£', value: [110.3312, 20.0311] },
                            { name: 'é‡åº†', value: [106.5516, 29.5630] },
                            { name: 'æˆéƒ½', value: [104.0665, 30.5723] },
                            { name: 'è´µé˜³', value: [106.6308, 26.6477] },
                            { name: 'æ˜†æ˜', value: [102.7123, 25.0406] },
                            { name: 'æ‹‰è¨', value: [91.1320, 29.6604] },
                            { name: 'è¥¿å®‰', value: [108.9402, 34.3416] },
                            { name: 'å…°å·', value: [103.8343, 36.0611] },
                            { name: 'è¥¿å®', value: [101.7782, 36.6171] },
                            { name: 'é“¶å·', value: [106.2309, 38.4872] },
                            { name: 'ä¹Œé²æœ¨é½', value: [87.6177, 43.7928] },
                            { 
                                name: 'é•¿æ˜¥ç”µå½±åˆ¶ç‰‡å‚', 
                                value: [125.3150, 43.8050],
                                type: 'studio',
                                description: 'é•¿æ˜¥ç”µå½±åˆ¶ç‰‡å‚ï¼Œç®€ç§°"é•¿å½±"ï¼Œæˆç«‹äº1945å¹´10æœˆ1æ—¥ï¼Œæ˜¯æ–°ä¸­å›½ç¬¬ä¸€å®¶ç”µå½±åˆ¶ç‰‡å‚ï¼Œè¢«èª‰ä¸º"æ–°ä¸­å›½ç”µå½±çš„æ‘‡ç¯®"ã€‚é•¿å½±å…ˆåæ‹æ‘„æ•…äº‹å½±ç‰‡900å¤šéƒ¨ï¼Œè¯‘åˆ¶å„å›½å½±ç‰‡1000å¤šéƒ¨ã€‚ä»£è¡¨ä½œå“æœ‰ã€Šç™½æ¯›å¥³ã€‹ã€Šäº”æœµé‡‘èŠ±ã€‹ã€Šåˆ˜ä¸‰å§ã€‹ã€Šè‹±é›„å„¿å¥³ã€‹ã€Šç”²åˆé£äº‘ã€‹ç­‰ç»å…¸å½±ç‰‡ã€‚'
                            },
                            { 
                                name: 'è¥¿å®‰ç”µå½±åˆ¶ç‰‡å‚', 
                                value: [108.9500, 34.3300],
                                type: 'studio',
                                description: 'è¥¿å®‰ç”µå½±åˆ¶ç‰‡å‚ï¼Œç®€ç§°"è¥¿å½±"ï¼Œæˆç«‹äº1958å¹´8æœˆï¼Œæ˜¯ä¸­å›½é‡è¦çš„ç”µå½±åˆ¶ç‰‡åŸºåœ°ä¹‹ä¸€ã€‚è¥¿å½±ä»¥æ‹æ‘„å†œæ‘é¢˜æã€å†å²é¢˜æå’Œå„¿ç«¥é¢˜æå½±ç‰‡è‘—ç§°ã€‚ä»£è¡¨ä½œå“æœ‰ã€Šäººç”Ÿã€‹ã€Šè€äº•ã€‹ã€Šçº¢é«˜ç²±ã€‹ã€Šå¤§è¯è¥¿æ¸¸ã€‹ã€Šéœ¸ç‹åˆ«å§¬ã€‹ç­‰ç»å…¸å½±ç‰‡ï¼ŒåŸ¹å…»äº†ä¼—å¤šè‘—åå¯¼æ¼”å’Œæ¼”å‘˜ã€‚'
                            }
                        ],

                        itemStyle: {
                            color: function(params) {
                                return (params.data && params.data.type === 'studio') ? '#ff1744' : '#ff6b35';
                            },
                            borderColor: function(params) {
                                return (params.data && params.data.type === 'studio') ? '#fff' : '#fff';
                            },
                            borderWidth: function(params) {
                                return (params.data && params.data.type === 'studio') ? 3 : 2;
                            },
                            shadowColor: function(params) {
                                return (params.data && params.data.type === 'studio') ? '#ff1744' : 'transparent';
                            },
                            shadowBlur: function(params) {
                                return (params.data && params.data.type === 'studio') ? 10 : 0;
                            }
                        },
                        symbol: function(params) {
                            return (params.data && params.data.type === 'studio') ? 'star' : 'circle';
                        },
                        symbolSize: function(params) {
                            return (params.data && params.data.type === 'studio') ? 25 : 8;
                        },
                        label: {
                            show: true,
                            position: 'right',
                            fontSize: function(params) {
                                return (params.data && params.data.type === 'studio') ? 13 : 10;
                            },
                            color: function(params) {
                                return (params.data && params.data.type === 'studio') ? '#ff1744' : '#333';
                            },
                            fontWeight: function(params) {
                                return (params.data && params.data.type === 'studio') ? 'bold' : 'normal';
                            },
                            formatter: function(params) {
                                return (params.data && params.data.type === 'studio') ? 'â­ ' + params.name : params.name;
                            },
                            textBorderColor: function(params) {
                                return (params.data && params.data.type === 'studio') ? '#fff' : 'transparent';
                            },
                            textBorderWidth: function(params) {
                                return (params.data && params.data.type === 'studio') ? 2 : 0;
                            }
                        },
                        emphasis: {
                            itemStyle: {
                                color: function(params) {
                                    return (params.data && params.data.type === 'studio') ? '#ff4569' : '#ff8a65';
                                },
                                borderColor: '#fff',
                                borderWidth: function(params) {
                                    return (params.data && params.data.type === 'studio') ? 4 : 3;
                                },
                                shadowColor: function(params) {
                                    return (params.data && params.data.type === 'studio') ? '#ff1744' : '#ff6b35';
                                },
                                shadowBlur: function(params) {
                                    return (params.data && params.data.type === 'studio') ? 15 : 5;
                                }
                            },
                            symbolSize: function(params) {
                                return (params.data && params.data.type === 'studio') ? 30 : 12;
                            }
                        }
                    }
                ]
            };
            myChart.setOption(option);
            
            // æ·»åŠ ç‚¹å‡»äº‹ä»¶
            myChart.on('click', function(params) {
                if (params.componentType === 'series' && params.data && params.data.type === 'studio') {
                    showDetailPanel(params.data);
                }
            });
        }
        
        // æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯é¢æ¿
        function showDetailPanel(studioData) {
            const detailContent = document.getElementById('detail-content');
            const detailPanel = document.getElementById('detail-panel');
            
            detailContent.innerHTML = `
                <h2 style="color: #ff1744; margin-bottom: 15px; text-shadow: 0 2px 4px rgba(255,23,68,0.3);">
                    â­ ${studioData.name}
                </h2>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; line-height: 1.6;">
                    <p style="margin-bottom: 10px;">
                        <strong>ğŸ“ åœ°ç†ä½ç½®ï¼š</strong>
                        ç»åº¦ ${studioData.value[0].toFixed(4)}Â°ï¼Œçº¬åº¦ ${studioData.value[1].toFixed(4)}Â°
                    </p>
                    <p style="margin-bottom: 15px;">
                        <strong>ğŸ“– è¯¦ç»†ä»‹ç»ï¼š</strong>
                    </p>
                    <p style="text-indent: 2em; color: #555;">
                        ${studioData.description}
                    </p>
                </div>
            `;
            
            detailPanel.style.display = 'block';
            detailPanel.scrollIntoView({ behavior: 'smooth' });
        }
        
        // å…³é—­è¯¦ç»†ä¿¡æ¯é¢æ¿
        function closeDetailPanel() {
            document.getElementById('detail-panel').style.display = 'none';
        }

        function fetchGeoJSON() {
            myChart.showLoading();
            
            // å°è¯•åŠ è½½ä¸­å›½åœ°å›¾æ•°æ®
            fetch('https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json')
                .then(response => response.json())
                .then(geoJSON => {
                    echarts.registerMap('china', geoJSON);
                    createChart();
                    myChart.hideLoading();
                })
                .catch(error => {
                    console.warn('å¤–éƒ¨åœ°å›¾æ•°æ®åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å†…åµŒæ•°æ®');
                    
                    // å¤‡ç”¨æ–¹æ¡ˆï¼šä½¿ç”¨å†…åµŒçš„ç®€åŒ–ä¸­å›½åœ°å›¾æ•°æ®
                    const simplifiedChinaGeoJSON = {
                        "type": "FeatureCollection",
                        "features": [
                            {
                                "type": "Feature",
                                "properties": { "name": "åŒ—äº¬" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[116.0, 39.4], [117.0, 39.4], [117.0, 40.4], [116.0, 40.4], [116.0, 39.4]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å¤©æ´¥" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[117.0, 38.7], [118.0, 38.7], [118.0, 39.7], [117.0, 39.7], [117.0, 38.7]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æ²³åŒ—" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[113.5, 36.0], [119.5, 36.0], [119.5, 42.5], [113.5, 42.5], [113.5, 36.0]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å±±è¥¿" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[110.5, 34.5], [114.5, 34.5], [114.5, 40.5], [110.5, 40.5], [110.5, 34.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å†…è’™å¤" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[97.0, 37.5], [126.0, 37.5], [126.0, 53.5], [97.0, 53.5], [97.0, 37.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "è¾½å®" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[118.5, 38.5], [125.5, 38.5], [125.5, 43.5], [118.5, 43.5], [118.5, 38.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å‰æ—" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[121.5, 41.5], [131.5, 41.5], [131.5, 46.5], [121.5, 46.5], [121.5, 41.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "é»‘é¾™æ±Ÿ" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[121.0, 43.0], [135.0, 43.0], [135.0, 54.0], [121.0, 54.0], [121.0, 43.0]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "ä¸Šæµ·" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[121.0, 30.8], [122.0, 30.8], [122.0, 31.8], [121.0, 31.8], [121.0, 30.8]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æ±Ÿè‹" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[116.5, 30.5], [122.0, 30.5], [122.0, 35.5], [116.5, 35.5], [116.5, 30.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æµ™æ±Ÿ" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[118.0, 27.5], [123.0, 27.5], [123.0, 31.5], [118.0, 31.5], [118.0, 27.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å®‰å¾½" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[114.5, 29.5], [119.5, 29.5], [119.5, 35.0], [114.5, 35.0], [114.5, 29.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "ç¦å»º" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[115.5, 23.5], [120.5, 23.5], [120.5, 28.5], [115.5, 28.5], [115.5, 23.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æ±Ÿè¥¿" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[113.5, 24.5], [118.5, 24.5], [118.5, 30.5], [113.5, 30.5], [113.5, 24.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å±±ä¸œ" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[114.5, 34.5], [122.5, 34.5], [122.5, 38.5], [114.5, 38.5], [114.5, 34.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æ²³å—" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[110.5, 31.5], [116.5, 31.5], [116.5, 36.5], [110.5, 36.5], [110.5, 31.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æ¹–åŒ—" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[108.5, 29.0], [116.5, 29.0], [116.5, 33.5], [108.5, 33.5], [108.5, 29.0]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æ¹–å—" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[108.5, 24.5], [114.5, 24.5], [114.5, 30.5], [108.5, 30.5], [108.5, 24.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å¹¿ä¸œ" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[109.5, 20.0], [117.5, 20.0], [117.5, 25.5], [109.5, 25.5], [109.5, 20.0]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å¹¿è¥¿" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[104.5, 20.5], [112.5, 20.5], [112.5, 26.5], [104.5, 26.5], [104.5, 20.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æµ·å—" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[108.5, 18.0], [111.5, 18.0], [111.5, 20.5], [108.5, 20.5], [108.5, 18.0]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "é‡åº†" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[105.5, 28.5], [110.5, 28.5], [110.5, 32.5], [105.5, 32.5], [105.5, 28.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å››å·" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[97.5, 26.0], [109.0, 26.0], [109.0, 34.0], [97.5, 34.0], [97.5, 26.0]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "è´µå·" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[103.5, 24.5], [109.5, 24.5], [109.5, 29.5], [103.5, 29.5], [103.5, 24.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "äº‘å—" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[97.0, 21.0], [106.0, 21.0], [106.0, 29.0], [97.0, 29.0], [97.0, 21.0]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "è¥¿è—" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[78.0, 26.5], [99.0, 26.5], [99.0, 36.5], [78.0, 36.5], [78.0, 26.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "é™•è¥¿" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[105.5, 31.5], [111.5, 31.5], [111.5, 39.5], [105.5, 39.5], [105.5, 31.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "ç”˜è‚ƒ" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[92.0, 32.0], [109.0, 32.0], [109.0, 43.0], [92.0, 43.0], [92.0, 32.0]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "é’æµ·" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[89.0, 31.5], [103.0, 31.5], [103.0, 39.5], [89.0, 39.5], [89.0, 31.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "å®å¤" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[104.5, 35.5], [107.5, 35.5], [107.5, 39.5], [104.5, 39.5], [104.5, 35.5]]]
                                }
                            },
                            {
                                "type": "Feature",
                                "properties": { "name": "æ–°ç–†" },
                                "geometry": {
                                    "type": "Polygon",
                                    "coordinates": [[[73.0, 34.0], [96.0, 34.0], [96.0, 49.0], [73.0, 49.0], [73.0, 34.0]]]
                                }
                            }
                        ]
                    };
                    
                    echarts.registerMap('china', simplifiedChinaGeoJSON);
                    createChart();
                    myChart.hideLoading();
                });
        }
        
        // å“åº”å¼å¤„ç†
        window.addEventListener('resize', function() {
            if (myChart) {
                myChart.resize();
            }
        });

        // ç­‰å¾…EChartsåŠ è½½å®Œæˆååˆå§‹åŒ–
        function init() {
            if (typeof echarts !== 'undefined') {
                fetchGeoJSON();
            } else {
                setTimeout(init, 100);
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹åˆå§‹åŒ–
        window.addEventListener('load', init);
    </script>
</body>
</html> 